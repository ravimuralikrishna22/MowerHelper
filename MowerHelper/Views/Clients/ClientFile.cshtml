@model MowerHelper.Models.BLL.Patients.Patient_Info
@using MowerHelper.Models.Classes
@{
    Layout = null;
}
<!DOCTYPE html>
<html>
<head>
    @*    <meta name="viewport" content="width=device-width" />*@
    <title>Mower Helper-Find an Mower Helper</title>
    @Styles.Render("~/Content/themes/base/jqueryCSS")
    @Scripts.Render("~/ThScripts/ThJquery")
    @* <script src="~/Scripts/jquery-1.7.1.js" type="text/javascript"></script>
     <script src="~/Scripts/jquery-ui-1.8.20.min.js" type="text/javascript"></script>
     <link href="~/Content/themes/base/jquery.ui.all.css" rel="stylesheet" type="text/css" />*@
    @*    <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBM4zXImqJoW2vg0KBGi9p02qXy8XTibWo" async defer></script>*@
    @* <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?sensor=false"></script>*@
    <script type="text/javascript">
        $(function () {

           @* if ('@Session["roleid"].ToString()' != "1") {
                $("#tdtabsadmin").removeClass("tab-background");
            }*@
            var roleid = $("#hdnrole").val();
            if (roleid == "1") {
                document.getElementById('auditdiv').style.display = '';
            }
            else {
                document.getElementById('auditdiv').style.display = 'none';
            }
        });
    </script>

</head>
<body>
    @{Html.RenderAction("Topsection", "Tools");}
    <div id="main-content">
        @if (Session["RoleID"].ToString() == "1")
        {
            @Html.Partial("_NavigationTool")
        }
        <input type="hidden" id="hdnrole" name="hdnrole" value="@Session["RoleID"]" />
        @*  <table width="100%" cellpadding="0" cellspacing="0">*@
        @*  @if (Session["roleid"].ToString() == "1")
            {
                            <tr id="trtabsadmin" runat="server">
                                <td width="100%" class="navigation">
                                    <div class="admin-tab">
                                        <a class="admin-link" id="admincust" href="ClientsHome" ><span>Customers</span>
                                        </a>
                                    </div>
                                    <div class="admin-tab">
                                        <a class="inadmin-link" id="admintask"  href="../Task/TaskList"><span>Tasks </span>
                                        </a>
                                    </div>
                                
                                    <div class="admin-tab">
                                        <a class="inadmin-link" id="adminnote" href="../Notes/ProfileNotes"><span>Notes</span>
                                        </a>
                                    </div>                               
                                </td>
                            </tr>
            }*@
        @*<tr class="background_color">
                <td id="tdtabsadmin" class="tab-background" width="100%">*@
        @* <table width="100%" cellpadding="0" cellspacing="0" border="0">
                        <tr class="background_color">
                            <td align="left" valign="top" width="100%">*@
        <table width="100%" cellpadding="0" cellspacing="0" border="0">
            <tr id="trtabs">
                <td width="100%" class="navigation">
                    <div class="admin-tab">
                        <a class="admin-link" href="ClientFile" id="aprovider"><span>@Session["Patname"]</span>
                        </a>
                    </div>

                    @* <div class="admin-tab">
                                    <a class="inadmin-link" id="avideo" href="TransactionsList"><span>Transactions old</span>
                                    </a>
                                </div>*@
                    @if (Session["roleid"].ToString() != "8")
                    {                        <div class="admin-tab">
                        @* /?clientphone=@ViewBag.CellPhone*@
                        <a class="inadmin-link" id="admin-linknew" href="TransactionsList"><span>Transactions</span>
                        </a>
                    </div>
                               
                        <div class="admin-tab">
                            <a class="inadmin-link" id="astatistic" href="ClentAppointments"><span>Appointments & General notes</span>
                            </a>
                        </div>
                                    
                    }
                    else
                    {
                        <div class="admin-tab">
                            <a class="inadmin-link" id="astatistic1" href="ClentAppointments"><span>Appointments</span>
                            </a>
                        </div>
                    }
                    <div class="admin-tab">
                        <a class="inadmin-link" id="asentinvoices" href="SentInvoices"><span>Sent Invoices</span>
                        </a>
                    </div>
                    <div class="admin-tab" id="auditdiv">
                        <a class="inadmin-link" id="aauditlog" href="AuditLoginfo"><span>Audit Log</span></a>
                    </div>
                </td>
            </tr>
            <tr class="background_color">
                <td id="tdtabs" class="tab-background" width="100%">
                    <div class="content-box">
                        <div class="content-box-header">
                            <table width="100%" cellpadding="0" cellspacing="0" style="float: left;">
                                <tr>
                                    <td width="78%" align="left">
                                        <h3>Client Summary</h3>
                                    </td>
                                    @*<td width="10%" align="right" style="display: none;">
                                                                <ul class="content-box-tabs">
                                                                </ul>
                                                            </td>
                                                            <td width="6%" align="center" style="display: none;">
                                                                <ul class="content-box-tabs">
                                                                </ul>
                                                            </td>*@
                                    <td align="center" style="padding-right: 10px;">
                                        <ul class="content-box-tabs">
                                            <a id="lnknew" style="color: #0066CC; font-weight: bold; font-size: 15px; cursor: pointer;"
                                                title="To print a Client file" href="PrintFile">Print file </a>@* <asp:linkbutton id="lnkprintfile" text="Print file" runat="Server" font-bold="true"></asp:linkbutton>*@
                                        </ul>
                                    </td>
                                </tr>
                            </table>
                        </div>
                        <div class="content-box-content">
                            @*<table width="100%" border="0" align="center" cellspacing="0" cellpadding="0" runat="server">
                                                        <tr>
                                                            <td width="100%" valign="top" style="padding: 0 0 0 0px">*@
                            <table cellspacing="0" cellpadding="0" width="100%" align="center" border="0">
                                @* <tr class="tr_bgcolor">
                                                                        <td colspan="2" height="25px;">
                                                                            <strong>&nbsp;&nbsp;Personal / Contact information</strong>
                                                                        </td>
                                                                    </tr>*@
                                <tr class="background_color">
                                    <td valign="top" width="60%">
                                        <table class="border_style" cellspacing="1" cellpadding="6" width="100%" border="0">

                                            <tr class="white_color">
                                                <td style="text-align: right; width: 35%;">
                                                    <strong>Name :</strong>
                                                </td>
                                                <td>
                                                    <span>@Model.Prefix @Model.FirstName @Model.MI  @Model.LastName  @Model.Suffix</span>
                                                </td>
                                            </tr>
                                            <tr class="nav_blue_color">
                                                <td align="right">
                                                    <strong>Email :</strong>
                                                </td>
                                                <td>
                                                    <span>@Model.PatientEmail</span>
                                                </td>
                                            </tr>
                                            @if (clsWebConfigsettings.GetConfigSettingsValue("ShowClientDriversLicense").ToUpper() == "YES")
                                            {
                                                <tr class="white_color">
                                                    <td align="right">
                                                        <strong>Driver's license number :</strong>
                                                    </td>
                                                    <td>
                                                        <span>@Model.DrivingLicenceNo</span>
                                                    </td>
                                                </tr>
                                            }
                                            <tr class="nav_blue_color">
                                                <td align="right">
                                                    <strong>Cell phone :</strong>
                                                </td>
                                                <td>
                                                    @if (!string.IsNullOrEmpty(Model.MobilePhone))
                                                    {
                                                        <span>@clsCommonFunctions.UsPhoneFormat(Model.MobilePhone)</span>
                                                    }
                                                </td>
                                            </tr>
                                            @if (!string.IsNullOrEmpty(Model.HomePhone))
                                            {
                                                <tr class="white_color">
                                                    <td align="right">
                                                        <strong>Home phone :</strong>
                                                    </td>
                                                    <td>
                                                        <span>@clsCommonFunctions.UsPhoneFormat(Model.HomePhone)</span>
                                                    </td>
                                                </tr>
                                            }
                                            else if (!string.IsNullOrEmpty(Model.WorkPhone))
                                            {
                                                <tr class="white_color">
                                                    <td align="right">
                                                        <strong>Work phone :</strong>
                                                    </td>
                                                    <td>
                                                        @clsCommonFunctions.UsPhoneFormat(Model.WorkPhone)
                                                    </td>
                                                </tr>
                                            }
@* else
                                                                    {
                                                                        <tr class="white_color">
                                                                        <td align="right" >
                                                                            <strong>Home phone :</strong>
                                                                        </td>
                                                                        <td>
                                                                        </td>
                                                                    </tr> 
                                                                    }*@

                                            <tr class="nav_blue_color">
                                                <td style="text-align: right">
                                                    <strong><span style="font-weight: bold;">Registered date :</span> </strong>
                                                </td>
                                                <td>
                                                    @Html.Label("lblregdate1", DateTime.Parse(Model.RegisteredDate).ToString("MM/dd/yyyy"))
                                                </td>
                                            </tr>
                                            <tr class="white_color">
                                                <td align="right">
                                                    <strong>Address 1 :</strong>
                                                </td>
                                                <td>
                                                    <span>@Model.Address1</span>
                                                </td>
                                            </tr>
                                            <tr class="nav_blue_color">
                                                <td align="right">
                                                    <strong>Address 2 :</strong>
                                                </td>
                                                <td>
                                                    <span>@Model.Address2</span>
                                                </td>
                                            </tr>
                                            <tr class="white_color">
                                                <td style="text-align: right; width: 35%;">
                                                    <strong>Zip code :</strong>
                                                </td>
                                                <td>
                                                    <span>@Model.ZIP</span>
                                                </td>
                                            </tr>
                                            <tr class="nav_blue_color">
                                                <td align="right">
                                                    <strong>State :</strong>
                                                </td>
                                                <td>
                                                    <span>@Model.State</span>
                                                </td>
                                            </tr>
                                            <tr class="white_color">
                                                <td align="right">
                                                    <strong>City :</strong>
                                                </td>
                                                <td>
                                                    <span>@Model.City</span>
                                                </td>
                                            </tr>

                                            @if (!string.IsNullOrEmpty(Model.LastVisit))
                                            {
                                                <tr class="nav_blue_color" id="trlastvisit">
                                                    <td style="text-align: right;">
                                                        <strong><span style="font-weight: bold;">Last visit :</span> </strong>
                                                    </td>
                                                    <td id="trlastvisit1">

                                                        @*   @Html.Label("lbllastdate", (string)Model.LastVisit)*@
                                                        @Html.Label("lbllastdate", DateTime.Parse(Model.LastVisit).ToString("MM/dd/yyyy"))
                                                    </td>
                                                </tr>
                                            }
                                            @if (!string.IsNullOrEmpty(Model.NextVisit))
                                            {
                                                <tr class="white_color" id="trnextvisit">
                                                    <td style="text-align: right">
                                                        <strong><span style="font-weight: bold;">Next visit :</span> </strong>
                                                    </td>
                                                    <td id="trnextvisit1">
                                                        @Html.Label("lblnextdate", (string)Model.NextVisit)
                                                    </td>
                                                </tr>
                                            }




                                        </table>

                                    </td>
                                    <td valign="top" width="40%">
                                        <table class="border_style" cellspacing="1" cellpadding="6" width="100%" border="0">
                                            <tr>
                                                <td colspan="2" style="width: 100%">
                                                    <div id='custmermap' style="position: relative; width: 500px; height: 300px;"></div>

                                                </td>
                                            </tr>


                                        </table>
                                    </td>

                                </tr>
                            </table>
                            @*</td>
                                                        </tr>
                                                    </table>*@
                            <table cellspacing="0" cellpadding="0" width="95%" align="center" style="padding-top: 5px; padding-bottom: 5px;"
                                border="0">
                                <tr class="background_color">
                                    <td align="right">
                                        @if (Session["roleid"].ToString() != "8")
                                        {
                                            @Html.ActionLink("Edit", "EditClientFile", null, new { @class = "button", @style = "width:22px;height:14px;" })
                                        }
@*<input type="button" ID="ImgBtnDEdit" value="Edit"   class="button" Width="69px" />*@&nbsp;
                                                    @Html.ActionLink("Cancel", "ClientsHome", "Clients", null, new { @class = "button", @style = "width:34px;height:14px;" })
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </td>
            </tr>
        </table>
        @*</td>
                        </tr>
                    </table>*@
        @*  </td>
            </tr>
        </table>*@
    </div>
    @{Html.RenderAction("Bottomsections", "Tools");}
    <script type="text/javascript">

        function fnlanglat() {

            var geocoder = new google.maps.Geocoder();
            var address = "@ViewBag.googleaddress";
            geocoder.geocode({ 'address': address }, function (results, status) {
                // alert(status);
                if (status == google.maps.GeocoderStatus.OK) {
                    var latitude = results[0].geometry.location.lat();
                    var longitude = results[0].geometry.location.lng();
                    var latlng = new google.maps.LatLng(latitude, longitude);
                    var myOptions = {
                        zoom: 15,
                        center: latlng,
                        mapTypeId: google.maps.MapTypeId.ROADMAP
                    };
                    map = new google.maps.Map(document.getElementById("custmermap"), myOptions);
                    var marker = new google.maps.Marker
                    (
                        {
                            position: new google.maps.LatLng(latitude, longitude),
                            map: map
                        }
                    );
                    var infowindow = new google.maps.InfoWindow({ content: "<div style='padding-bottom: 9pt; width:275px;'><b>" + address + "</b></div>" });
                    //infowindow.open(map, marker);
                    google.maps.event.addListener(marker, 'mouseover', function () {
                        infowindow.open(map, marker);
                    });
                    google.maps.event.addListener(marker, 'mouseout', function () {
                        infowindow.close();
                    });


                } else {
                    alert("Request failed." + status);
                }
            });

        }
        //$(document).ready(function () {
        //    fnlanglat();
        //});
    </script>
    <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCgKM4MCuYrILJ8CFPR-a5xXelNuobdK50&callback=fnlanglat"" async defer></script>
</body>
<script type="text/javascript">
    $(document).ready(function () {
        var TopIndex = '@Session["TopIndex"]';
        var roleid = '@Session["roleid"]';
        if (roleid == "1") {
            $("#Menu0").removeClass();
            $("#Menu1").removeClass();
            $("#Menu2").removeClass();
            $("#Menu3").addClass("active");
        }
    });
</script>
@*<script type="text/javascript">

    function fnlanglat() {

        var geocoder = new google.maps.Geocoder();
        var address = "@ViewBag.googleaddress";
            geocoder.geocode({ 'address': address }, function (results, status) {
                // alert(status);
                if (status == google.maps.GeocoderStatus.OK) {
                    var latitude = results[0].geometry.location.lat();
                    var longitude = results[0].geometry.location.lng();
                    var latlng = new google.maps.LatLng(latitude, longitude);
                    var myOptions = {
                        zoom: 15,
                        center: latlng,
                        mapTypeId: google.maps.MapTypeId.ROADMAP
                    };
                    map = new google.maps.Map(document.getElementById("custmermap"), myOptions);
                    var marker = new google.maps.Marker
                    (
                        {
                            position: new google.maps.LatLng(latitude, longitude),
                            map: map
                        }
                    );
                    var infowindow = new google.maps.InfoWindow({ content: "<div style='padding-bottom: 9pt; width:275px;'><b>" + address + "</b></div>" });
                    //infowindow.open(map, marker);
                    google.maps.event.addListener(marker, 'mouseover', function () {
                        infowindow.open(map, marker);
                    });
                    google.maps.event.addListener(marker, 'mouseout', function () {
                        infowindow.close();
                    });


                } else {
                    alert("Request failed." + status);
                }
            });

        }
        $(document).ready(function () {
            fnlanglat();
        });
</script>*@
</html>
